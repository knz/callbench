all: nargs_go.log

nargs_go.log: nargs_test.go autogenerated_nargs_test.go
	go test -bench 'Benchmark.*Arg' -cpu 1 | tee $@.tmp
	mv -f $@.tmp $@

autogenerated_nargs_test.go: gen_nargs.sh
	bash gen_nargs.sh >$@.tmp
	mv -f $@.tmp $@

clean:
	rm -f autogenerated_nargs_test.go nargs.log go.test
	rm -f *\~ \#*
